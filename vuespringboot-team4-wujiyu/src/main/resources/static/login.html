<!doctype html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>vue spring boot</title>
	<link rel="stylesheet" type="text/css" href="/static/css/normalize.css" />
	<link rel="stylesheet" type="text/css" href="/static/css/default.css">
	<link rel="stylesheet" type="text/css" href="/static/css/styles.css">
</head>
<body>
	<div class="htmleaf-container">
		<div class="wrapper">
			<div class="container">
				<h1>Welcome</h1>
				
				<form class="form" action="/do-login">
					<input type="text" name="username" placeholder="Username">
					<input type="password" name="password" placeholder="Password">
					<button type="submit" id="login-button">Login</button>
				</form>
			</div>
			
			<ul class="bg-bubbles">
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
		</div>
	</div>
	
	<script src="/static/jquery-3.4.1.min.js"></script>
	<script>
	$('#login-button').click(function (event) {
	    event.preventDefault();
	    $.ajax({
			method:"post",
			url:"/do-login",
			dataType:"json",
			data:$(".form").serialize(),
			success:function (resp) {
				console.log("succes");
				$('form').fadeOut(500);
				$('.wrapper').addClass('form-success');
				window.location.href = "/index";
			},
			error:function (error) {
				console.log(error);
				console.log("fail");
				alert("用户名或密码错误");
			}
		})
	});
	</script>
</body>
</html>